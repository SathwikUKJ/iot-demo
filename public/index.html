<!DOCTYPE html>
<html>
<head>
    <title>IoT QR Scanner API</title>
    <style>
        body { font-family: Arial; margin: 50px; background: #f5f5f5; }
        .container { max-width: 600px; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .status { color: #28a745; font-weight: bold; }
        .endpoint { background: #f8f9fa; padding: 15px; border-radius: 5px; margin: 10px 0; }
        .method { color: #007bff; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç IoT QR Scanner API</h1>
        <p class="status">‚úÖ Server is running</p>
        
        <h3>API Endpoints:</h3>
        
        <div class="endpoint">
            <div class="method">GET /api/scan</div>
            <p>Health check - Test if API is working</p>
        </div>
        
        <div class="endpoint">
            <div class="method">POST /api/scan</div>
            <p>Send QR scan data from your IoT device</p>
            <small>Body: {"deviceId": "xyz", "qrCode": "data", "scanTime": "timestamp"}</small>
        </div>
        
        <h3>Quick Test:</h3>
        <button onclick="testAPI()">Test API Health</button>
        <div id="result" style="margin-top: 15px;"></div>
        
        <script>
            async function testAPI() {
                const result = document.getElementById('result');
                result.innerHTML = 'Testing...';
                
                try {
                    const response = await fetch('/api/scan');
                    const data = await response.json();
                    result.innerHTML = `<pre style="background: #e8f5e8; padding: 10px; border-radius: 5px;">${JSON.stringify(data, null, 2)}</pre>`;
                } catch (error) {
                    result.innerHTML = `<pre style="background: #f8e8e8; padding: 10px; border-radius: 5px;">Error: ${error.message}</pre>`;
                }
            }
        </script>
    </div>
</body>
</html>